<!doctype html>

<html lang="en-US" dir="ltr">

  <head>
    <meta charset="utf-8">
<title>Rethinking reactivity</title>
<meta name="generator" content="Nue v0.5.3 (nuejs.org)">
<meta name="date.updated" content="2024-05-01T06:38:04.901Z">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta property="og:image" content="/img/meme-big.jpg">
<meta name="nue:components" content="/global/components.js /blog/rethinking-reactivity/examples.js /@lib/video.js">
<link href="/@base/base.css" rel="stylesheet">
<link href="/@base/button.css" rel="stylesheet">
<link href="/@base/dialog.css" rel="stylesheet">
<link href="/@base/header-and-footer.css" rel="stylesheet">
<link href="/global/badge.css" rel="stylesheet">
<link href="/global/colors.css" rel="stylesheet">
<link href="/global/components.css" rel="stylesheet">
<link href="/global/form.css" rel="stylesheet">
<link href="/global/global.css" rel="stylesheet">
<link href="/@lib/article.css" rel="stylesheet">
<link href="/@lib/glow-syntax.css" rel="stylesheet">
<link href="/@lib/video.css" rel="stylesheet">
<link href="/@nue/glow.css" rel="stylesheet">
<link href="/blog/blog.css" rel="stylesheet">
<link href="/blog/rethinking-reactivity/examples.css" rel="stylesheet">
<script src="/@nue/hotreload.js" type="module"></script>
<script src="/@nue/mount.js" type="module"></script>
<script src="/@nue/page-router.js" type="module"></script>
    
  </head>

  <body>
    <header>
    <nav aria-label="branding"><a href="/"><img src="/img/logo.svg" width="70" height="31"></a></nav>
    <nav aria-label="main"><a href="/why/">Why</a>
<a href="/docs/">Docs</a>
<a href="/blog/">Blog</a>
<a href="/blog/status-update-01/" class="status badge">Nue status update</a></nav>
    <nav aria-label="toolbar"><a href="/docs/">Try beta</a>
<hr>
<a href="//github.com/nuejs/nue" class="github badge"><em>5.9k</em></a></nav>
    <a href="#menu" aria-controls="menu"></a>
  </header>
    <main>
    <aside>
  <a href="/blog/index.html">&#x2039; Go back</a>
</aside>

    <article>
      <header>

  <time datetime="2023-10-02T00:00:00.000Z">October 2, 2023</time>

  <h1>Rethinking reactivity</h1>

  <div class="author">
  <span><img width="36" height="36" src="/img/tero.webp"></span>

  <aside>
    <b>Tero Piirainen</b>
    <a href="//twitter.com/tipiirai">@tipiirai</a>
  </aside>
</div>

</header>
      <p><a href="//github.com/nuejs/nue/tree/master/packages/nuejs">Nue JS</a> is a tiny, 2.1kb min-brotlied library for building user interfaces. It&apos;s an alternative to frameworks like <em>Vue</em>, <em>React</em>, and <em>Svelte</em> &#x2014; and it&apos;s the central piece of the <a href="/">Nue ecosystem</a>, which is a ridiculously easier alternative to <em>Next.js</em> and <em>Astro</em></p>

<figure><picture><source srcset="/img/meme.jpg" media="(max-width: 750px)" type="image/jpeg">
<source srcset="/img/meme-big.jpg" media="(min-width: 750px)" type="image/jpeg">
<img src="/img/meme-big.jpg" alt="Less is more" loading="lazy"></picture><figcaption>Less is more</figcaption></figure>
<p>Nue was linked to <a href="//news.ycombinator.com/item?id=37507419">Hacker News</a>, <a href="//lobste.rs/s/goxx8g/nue_react_vue_vite_astro_alternative">Lobsters</a>, and <a href="//www.reddit.com/r/vuejs/comments/16ifij7/nue_powerful_reactvueviteastro_alternative/">Reddit</a> on September 2023 and it was really a dream start for the project. I received a super warm welcome from developers, over 120k people came to see the website, and the project rapidly got thousands of stars on GitHub. My time lately has gone on fixing bugs, merging pull requests, giving support, answering questions, and <a href="/docs/nuejs/examples">providing examples</a>.</p>
<p>Common questions are: &quot;How does reactivity work&quot;? and &quot;How is this different from React or Svelte&quot;? Here I do my best to answer those exact questions.</p>
<h2 id="html-based"><a href="#html-based" title="HTML- based"></a>HTML- based</h2><p>If React is &quot;Just JavaScript&quot;, then Nue is &quot;Just HTML&quot;. Here&apos;s how the difference between React and Nue using an identical counter component:</p>
<h3 id="react"><a href="#react" title="React"></a>React</h3>
<pre glow><code language="jsx"><sup>/**</sup>
<sup> * React counter: &quot;It&apos;s Just JavaScript&quot;</sup>
<sup> */</sup>
<strong>import</strong> React<i>,</i> <i>{</i> useState <i>}</i> <strong>from</strong> <em>&quot;react&quot;</em><i>;</i>

<strong>function</strong> <b>App</b><i>(</i><i>)</i> <i>{</i>
  <strong>const</strong> <i>[</i>count<i>,</i> setCount<i>]</i> <i>=</i> <b>useState</b><i>(</i><em>0</em><i>)</i><i>;</i>

  <strong>return</strong> <i>(</i>
    <i>&lt;</i><strong>div</strong><i>&gt;</i>
      <i>&lt;</i><strong>h2</strong><i>&gt;</i>You clicked <i>{</i>count<i>}</i> <b>times</b><i>!</i><i>&lt;</i><i>/</i><strong>h2</strong><i>&gt;</i>
      <i>&lt;</i><strong>button </strong><b>onClick</b><i>=</i><i>{</i><i>(</i><i>)</i> <i>=</i><i>&gt;</i> <b>setCount</b><i>(</i>count <i>-</i> <em>1</em><i>)</i><i>}</i><i>&gt;</i>
        Decrement
      <i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>
      <i>&lt;</i><strong>button </strong><b>onClick</b><i>=</i><i>{</i><i>(</i><i>)</i> <i>=</i><i>&gt;</i> <b>setCount</b><i>(</i>count <i>+</i> <em>1</em><i>)</i><i>}</i><i>&gt;</i>
        Increment
      <i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>
    <i>&lt;</i><i>/</i><strong>div</strong><i>&gt;</i>
  <i>)</i><i>;</i>
<i>}</i></code></pre>
<p><a href="//codesandbox.io/s/react-hooks-counter-demo-kqm9s?file=/src/index.js:0-427">Source</a></p>
<h3 id="nue"><a href="#nue" title="Nue"></a>Nue</h3>
<pre glow><code language="html"><sup>&lt;!--</sup>
<sup>  Nue counter: &quot;It&apos;s just HTML&quot;</sup>
<sup>--&gt;</sup>
<i>&lt;</i><strong>div</strong><i>&gt;</i>
  <i>&lt;</i><strong>h2</strong><i>&gt;</i>You clicked <i>{</i>count<i>}</i> <b>times</b><i>!</i><i>&lt;</i><i>/</i><strong>h2</strong><i>&gt;</i>
  <i>&lt;</i><strong>button </strong><label>@click</label><i>=</i><em>&quot;count--&quot;</em><i>&gt;</i>Decrement<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>
  <i>&lt;</i><strong>button </strong><label>@click</label><i>=</i><em>&quot;count++&quot;</em><i>&gt;</i>Increment<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>
  <i>&lt;</i><strong>script</strong><i>&gt;</i><b>count</b> <i>=</i> <em>0</em><i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i>
<i>&lt;</i><i>/</i><strong>div</strong><i>&gt;</i></code></pre>

<div is="counter"></div>
<p><a href="//github.com/nuejs/www/blob/master/docs/examples.nue#L33">Source</a></p>
<p>To understand this choice we must go back in time. The world used to be slightly different before React and the kids entered the picture. There were two kinds of frontend skills: <em>UX development</em> and <em>JS development</em>:</p>

<section class="stack"><div class="card"><h3 id="ux-development"><a href="#ux-development" title="UX development"></a>UX development</h3><ul>
<li>HTML + CSS</li>
<li>Lightweight JavaScript</li>
<li>Look and feel</li>
<li>Responsive design</li>
<li>Accessibility</li>
<li>UI libraries</li>
</ul>
</div>
<div class="card"><h3 id="js-development"><a href="#js-development" title="JS development"></a>JS development</h3><ul>
<li>Advanced TypeScript/JS</li>
<li>Business logic</li>
<li>Backend integration</li>
<li>End-to-end testing</li>
<li>Keeping up the JS infra</li>
<li>Performance optimization</li>
</ul>
</div></section>
<p>People who cared about UX could focus on the <em>front of the frontend</em>, and JS developers could focus on the <em>back of the frontend</em>. The talent was naturally spread and people did what they loved. It was great. <em>Brad Frost</em> wrote a <a href="//bradfrost.com/blog/post/front-of-the-front-end-and-back-of-the-front-end-web-development/">great article</a> on the topic.</p>
<p>Today frontend development is dictated by the JS developer and everything is assembled with TypeScript or JavaScript: logic, layout, styling, images, and content.</p>
<p>Nue wants to change this and bring UX developers back to the forefront. For them, it&apos;s more natural to start with HTML (content first!), then add styling, and finally JavaScript if needed. JavaScript is <em>optional</em> in content-heavy websites. Yes, we&apos;re talking about &quot;old school&quot; things like progressive enhancement, separation of concerns, and semantic web design.</p>
<p>Therefore: Nue is HTML first.</p>
<h2 id="class-based"><a href="#class-based" title="Class- based"></a>Class- based</h2><p>In 1998 <em>O&apos;Reilly</em> published <a href="//www.amazon.com/Dynamic-HTML-Definitive-Danny-Goodman/dp/1565924940">Dynamic HTML: The Definitive Reference</a> by <em>Danny Goodman</em>. This book changed the way I build websites. Before reading the book I had only played with HTML and CSS, but suddenly web was programmable? With Java? No -- JavaScript. WTH!</p>

<img src="/img/dhtml.jpg" loading="lazy" width="200">
<p>Suddenly I could do things like this:</p>

<pre glow><code language="html"><i>&lt;</i><strong>FORM </strong><b>ACTION</b><i>=</i><em>&quot;/cgi-bin/form.cgi&quot;</em>
  <i>&#x131;</i><b>ONSUBMIT</b><i>=</i><em>&quot;return isValidEmail(this.email.value)&quot;</em><i>&#x131;</i><i>&gt;</i>
  <i>&lt;</i><strong>INPUT </strong><b>TYPE</b><i>=</i><em>&quot;text&quot;</em> <b>NAME</b><i>=</i><em>&quot;email&quot;</em><i>&gt;</i>
  <i>&lt;</i><strong>INPUT </strong><b>TYPE</b><i>=</i><em>&quot;submit&quot;</em> <b>VALUE</b><i>=</i><em>&quot;Submit&quot;</em><i>&gt;</i>
<i>&lt;</i><i>/</i><strong>FORM</strong><i>&gt;</i>

<sup>&lt;!-- don&apos;t forget the type attribute! --&gt;</sup>
<i>&lt;</i><strong>SCRIPT </strong><b>TYPE</b><i>=</i><em>&quot;text/javascript&quot;</em><i>&gt;</i>
  function <b>isValidEmail</b><i>(</i>email<i>)</i> <i>{</i>
    return <i>/</i><i>^</i><i>\</i>S<i>+</i><i>@</i><i>\</i>S<i>+</i><i>&#x24;</i><i>/</i><i>.</i><b>test</b><i>(</i>email<i>)</i>
  <i>}</i>
<i>&lt;</i><i>/</i><strong>SCRIPT</strong><i>&gt;</i></code></pre>
<p>Yes, HTML was in all caps back then. And there were no <code>type=&quot;email&quot;</code> fields, no <code>&lt;button&gt;</code> tag, nor the ability to post data with JavaScript. AJAX was invented seven years later. But I could make HTML dynamic and could move some of the dynamics from backend to the frontend.</p>
<p>Today HTML, CSS, and JavaScript have incredibly more power. Especially JavaScript. One notable thing is <a href="//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">classes</a>, introduced in ECMAScript 2015 (aka &quot;ES6&quot;) and now supported by all major browsers.</p>
<p>Nue uses classes to bring the DHTML vibes back to modern component-based web development. Let&apos;s rewrite the above example with Nue:</p>

<pre glow><code language="html"><i>&lt;</i><strong>form </strong><label>@submit</label><i>.</i><b>prevent</b><i>=</i><em>&quot;submit&quot;</em><i>&gt;</i>
  <i>&lt;</i><strong>input </strong><b>type</b><i>=</i><em>&quot;email&quot;</em> <b>name</b><i>=</i><em>&quot;email&quot;</em> <b>placeholder</b><i>=</i><em>&quot;your@address.com&quot;</em> required<i>&gt;</i>
  <i>&lt;</i><strong>button</strong><i>&gt;</i>Submit<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>

  <i>&#x131;</i><i>&lt;</i><strong>script</strong><i>&gt;</i><i>&#x131;</i>
    <sup>// input validation is natively taken care of by the browser</sup>
    async <b>submit</b><i>(</i><i>{</i> target <i>}</i><i>)</i> <i>{</i>
      await <b>fetch</b><i>(</i><i>`</i><i>/</i>api<i>/</i>leads<i>?</i><b>email</b><i>=</i><i>&#x24;</i><i>{</i>target<i>.</i>email<i>.</i>value<i>}</i><i>`</i><i>)</i>
      location<i>.</i><b>href</b> <i>=</i> <em>&apos;/thank-you&apos;</em>
    <i>}</i>
  <i>&#x131;</i><i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i><i>&#x131;</i>

<i>&lt;</i><i>/</i><strong>form</strong><i>&gt;</i></code></pre>
<p>The most notable thing is the <code>&lt;script&gt;</code> tag, which is now nested <em>inside</em> the component. This is the place for your ES6 class variables and methods.</p>
<p>ES6 classes make your code look amazingly compact and clean. You can add variables, methods, <a href="//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">getters</a>, <a href="//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set">setters</a>, and <code>async</code> methods with the cute and short syntax. Here is a snippet from a <a href="/todomvc/">Todo MVC</a> app written with Nue:</p>

<pre glow><code language="html"><i>&lt;</i><strong>script</strong><i>&gt;</i>
  <b>clearCompleted</b><i>(</i><i>)</i> <i>{</i>
    this<i>.</i>items<i>.</i><b>forEach</b><i>(</i><b>item</b> <i>=</i><i>&gt;</i> delete item<i>.</i>done<i>)</i>
    this<i>.</i><b>save</b><i>(</i><i>)</i>
  <i>}</i>

  get <b>numActive</b><i>(</i><i>)</i> <i>{</i>
    return this<i>.</i>items<i>.</i><b>filter</b><i>(</i><b>item</b> <i>=</i><i>&gt;</i> <i>!</i>item<i>.</i>done<i>)</i><i>.</i>length
  <i>}</i>

  get <b>hasCompleted</b><i>(</i><i>)</i> <i>{</i>
    return this<i>.</i>items<i>.</i><b>find</b><i>(</i><b>item</b> <i>=</i><i>&gt;</i> item<i>.</i>done<i>)</i>
  <i>}</i>

  set <b>filter</b><i>(</i>name<i>)</i> <i>{</i>
    history<i>.</i><b>replaceState</b><i>(</i><em>&apos;&apos;</em><i>,</i> <em>&apos;&apos;</em><i>,</i> <em>&apos;#&apos;</em> <i>+</i> name<i>)</i>
    this<i>.</i><b>filter</b> <i>=</i> name
  <i>}</i>

  <sup>// ... clipped ...</sup>

<i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i></code></pre>
<h2 id="reactivity-model"><a href="#reactivity-model" title="Reactivity model"></a>Reactivity model</h2><p>Reactivity means that when the component state changes, the component automatically re-renders itself to the new state. Nue is no different from the other frameworks here:</p>

<pre glow><code language="html"><i>&lt;</i><strong>button </strong><mark><label>@click</label><i>=</i><em>&quot;count++&quot;</em></mark><i>&gt;</i>
  Clicked <i>{</i> count <i>}</i> <i>{</i> <b>count</b> <i>=</i><i>=</i> <em>1</em> <i>?</i> <em>&apos;time&apos;</em> <i>:</i> <em>&apos;times&apos;</em> <i>}</i>
  <i>&lt;</i><strong>script</strong><i>&gt;</i><b>count</b> <i>=</i> <em>0</em><i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i>
<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i></code></pre>

<div is="simple-counter"></div>
<p>Nue automatically updates the view when an event handler is clicked. Nue also re-renders automatically when working with arrays. For example:</p>

<pre glow><code language="html"><i>&lt;</i><strong>div</strong><i>&gt;</i>
  <i>&lt;</i><strong>p</strong><i>&gt;</i>
    <i>&lt;</i><strong>button </strong><label>@click</label><i>=</i><em>&quot;addFruit&quot;</em><i>&gt;</i>Add<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>
    <i>&lt;</i><strong>button </strong><label>@click</label><i>=</i><em>&quot;images.pop()&quot;</em> <i>:</i><b>disabled</b><i>=</i><em>&quot;!images[4]&quot;</em><i>&gt;</i>Remove<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>
  <i>&lt;</i><i>/</i><strong>p</strong><i>&gt;</i>

  <i>&lt;</i><strong>img </strong><i>:</i><b>for</b><i>=</i><em>&quot;img in images&quot;</em> <i>:</i><b>src</b><i>=</i><em>&quot;/demo/img/<i>{<b>img</b>}</i>.jpg&quot;</em><i>&gt;</i>

  <i>&lt;</i><strong>script</strong><i>&gt;</i>
    <b>images</b> <i>=</i> <i>[</i><em>&apos;popcorn&apos;</em><i>,</i> <em>&apos;peas&apos;</em><i>,</i> <em>&apos;lemons&apos;</em><i>,</i> <em>&apos;tomatoes&apos;</em><i>]</i>

    <b>addFruit</b><i>(</i><i>)</i> <i>{</i>
      const <b>img</b> <i>=</i> this<i>.</i><b>images</b><i>[</i>Math<i>.</i><b>floor</b><i>(</i>Math<i>.</i><b>random</b><i>(</i><i>)</i> <i>*</i> <em>4</em><i>)</i><i>]</i>
      this<i>.</i>images<mark><i>.</i><b>push</b><i>(</i>img<i>)</i></mark>
    <i>}</i>
  <i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i>
<i>&lt;</i><i>/</i><strong>div</strong><i>&gt;</i></code></pre>

<div is="reactive-loop"></div>
<p>Both <code>push()</code> and <code>pop()</code> methods update the view automatically. Same with all the other Array methods like <code>sort()</code>, <code>unshift()</code>, <code>sort()</code>, <code>reverse()</code>, and <code>splice()</code>.</p>
<p>Sometimes only you know when an update must happen in which case you must call an instance method <code>this.update()</code> manually. For example, after some data has been fetched from the server:</p>

<pre glow><code language="html"><i>&lt;</i><strong>div </strong><b>class</b><i>=</i><em>&quot;user&quot;</em><i>&gt;</i>
  <i>&lt;</i><strong>img </strong><i>:</i><b>src</b><i>=</i><em>&quot;user.avatar&quot;</em><i>&gt;</i>
  <i>&lt;</i><strong>h3</strong><i>&gt;</i><i>{</i> user<i>.</i>name <i>}</i><i>&lt;</i><i>/</i><strong>h3</strong><i>&gt;</i>
  <i>&lt;</i><strong>p</strong><i>&gt;</i><i>{</i> user<i>.</i>email <i>}</i><i>&lt;</i><i>/</i><strong>p</strong><i>&gt;</i>

  <i>&lt;</i><strong>button </strong><label>@click</label><i>=</i><em>&quot;loadJane&quot;</em> <i>:</i><b>disabled</b><i>=</i><em>&quot;is_loaded&quot;</em><i>&gt;</i>Load Jane<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i>

  <i>&lt;</i><strong>script</strong><i>&gt;</i>
    <b>user</b> <i>=</i> <i>{</i>
      <b>avatar</b><i>:</i> <em>&apos;avatars/john.jpg&apos;</em><i>,</i>
      <b>email</b><i>:</i> <em>&apos;john@acme.org&apos;</em><i>,</i>
      <b>name</b><i>:</i> <em>&apos;John Doe&apos;</em><i>,</i>
    <i>}</i>

    async <b>loadJane</b><i>(</i><i>)</i> <i>{</i>
      const <b>req</b> <i>=</i> await <b>fetch</b><i>(</i><em>&apos;jane.json&apos;</em><i>)</i>
      this<i>.</i><b>user</b> <i>=</i> await req<i>.</i><b>json</b><i>(</i><i>)</i>
      this<i>.</i><b>is_loaded</b> <i>=</i> true
      <i>&#x131;</i>this<i>.</i><b>update</b><i>(</i><i>)</i><i>&#x131;</i>
    <i>}</i>
  <i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i>
<i>&lt;</i><i>/</i><strong>div</strong><i>&gt;</i></code></pre>

<div is="user-update"></div>
<p>As a user of Nue JS, the <code>update()</code> method is really the only special thing you need to know about reactivity. Overall you need less thinking and framework-specific abstractions when working with Nue. For example, here&apos;s how you initialize a single reactive variable in various frameworks:</p>
<h3 id="react"><a href="#react" title="React"></a>React</h3>
<pre glow><code language="*"><strong>import</strong> <i>{</i> useState <i>}</i> <strong>from</strong> <em>&quot;react&quot;</em>
<strong>const</strong> <i>[</i>count<i>,</i> setCount<i>]</i> <i>=</i> <b>useState</b><i>(</i><em>0</em><i>)</i></code></pre>
<h3 id="vue"><a href="#vue" title="Vue"></a>Vue</h3>
<pre glow><code language="*"><strong>import</strong> <i>{</i> ref <i>}</i> <strong>from</strong> <em>&apos;vue&apos;</em>
<strong>const</strong> <b>count</b> <i>=</i> <b>ref</b><i>(</i><em>0</em><i>)</i></code></pre>
<h3 id="svelte-runes"><a href="#svelte-runes" title="Svelte / Runes"></a>Svelte / &quot;Runes&quot;</h3>
<pre glow><code language="*"><strong>let</strong> <b>count</b> <i>=</i> <i>&#x24;</i><b>state</b><i>(</i><em>0</em><i>)</i><i>;</i></code></pre>
<h3 id="nue"><a href="#nue" title="Nue"></a>Nue</h3>
<pre glow><code language="*"><b>count</b> <i>=</i> <em>0</em></code></pre>
<h2 id="reactivity-under-the-hood"><a href="#reactivity-under-the-hood" title="Reactivity under the hood"></a>Reactivity under the hood</h2><p>Here&apos;s how Nue JS works.</p>
<p>First, a Nue component is compiled or &quot;transpiled&quot; to plain JavaScript so that browsers can run it. Let&apos;s look at our counter component again:</p>

<pre glow><code language="html"><i>&lt;</i><strong>button </strong><label>@name</label><i>=</i><em>&quot;counter&quot;</em> <label>@click</label><i>=</i><em>&quot;count++&quot;</em><i>&gt;</i>
  Clicked <i>{</i> count <i>}</i> <i>{</i> <b>count</b> <i>=</i><i>=</i> <em>1</em> <i>?</i> <em>&apos;time&apos;</em> <i>:</i> <em>&apos;times&apos;</em> <i>}</i>
  <i>&lt;</i><strong>script</strong><i>&gt;</i><b>count</b> <i>=</i> <em>0</em><i>&lt;</i><i>/</i><strong>script</strong><i>&gt;</i>
<i>&lt;</i><i>/</i><strong>button</strong><i>&gt;</i></code></pre>
<p>Here&apos;s what the counter looks like after the compilation:</p>

<pre glow><code language="*"><i>{</i>
  <b>name</b><i>:</i> <em>&apos;counter&apos;</em><i>,</i>
  <b>tmpl</b><i>:</i> <em>&apos;&lt;button @click=&quot;0&quot;&gt;:1:&lt;/button&gt;&apos;</em><i>,</i>
  <b>Impl</b><i>:</i> <strong>class</strong> <i>{</i> <b>count</b> <i>=</i> <em>0</em> <i>}</i><i>,</i>
  <b>fns</b><i>:</i> <i>[</i>
    <i>(</i>_<i>,</i>e<i>)</i> <i>=</i><i>&gt;</i> <i>{</i> _<i>.</i>count<i>+</i><i>+</i> <i>}</i><i>,</i>
    _ <i>=</i><i>&gt;</i> <i>[</i><em>&apos;Clicked &apos;</em><i>,</i>_<i>.</i>count<i>,</i><em>&apos; &apos;</em><i>,</i>_<i>.</i><b>count</b> <i>=</i><i>=</i> <em>1</em> <i>?</i> <em>&apos;time&apos;</em> <i>:</i> <em>&apos;times&apos;</em><i>]</i>
  <i>]</i>
<i>}</i></code></pre>
<p>The compiled component has four properties:</p>
<ol>
<li><code>name</code> - the component name</li>
<li><code>tmpl</code> &#x2014; component&apos;s HTML/template code</li>
<li><code>Impl</code> &#x2013; the ES6 class to create the component instance from</li>
<li><code>fns</code> &#x2013; the template expressions turned to <a href="//developer.mozilla.org/en-US/docs/Web/HTTP/CSP">CSP</a>- compliant JavaScript</li>
</ol>
<p>All the expressions on the template are replaced with an index number to match the function on the <code>fns</code> array. For example the click handler <code>@click=&quot;0&quot;</code> is the first function on the array, that is <code>fns[0]</code>. The underscore is the component instance where all the variables and methods can be found.</p>
<p>When the component is mounted on the page, Nue creates a DOM tree from the template and makes the expression/function mapping. Each Nue component holds an array of expressions that are executed every time the component state changes. Nue also keeps track of all the child components and they also get re-rendered when the parent state changes.</p>
<p><code>:if</code>, and <code>:for</code> expressions are also put on the execution array, but their logic is more complex so they are executed with a dedicated <a href="//github.com/nuejs/nue/blob/master/packages/nuejs/src/browser/if.js">handler</a> <a href="//github.com/nuejs/nue/blob/master/packages/nuejs/src/browser/for.js">function</a>.</p>
<p>Re-rendering <em>mutates</em> the attributes, elements, and text nodes in place. No DOM diffing is needed.</p>
<p>That&apos;s Nue reactivity in short.</p>
<h2 id="keeping-things-small"><a href="#keeping-things-small" title="Keeping things small"></a>Keeping things small</h2><p>The compiled Nue code is very small: only like ~1.2x larger than the HTML-based source code. This makes Nue applications the smallest on the market.</p>
<p><em>Evan You</em>&apos;s (creator of Vue) <a href="https://github.com/yyx990803/vue-svelte-size-analysis">compared</a> the generated code size of Vue and Svelte components. He used TodoMVC as the measure for an individual component. By adding add <a href="/todomvc/">Nue TodoMVC</a> to the mix we get the following data:</p>

<table><thead><tr><th></th>
<th>Vue</th>
<th>Svelte</th>
<th>Nue</th></tr></thead><tbody><tr><td>Framework size</td>
<td>16.89kb</td>
<td>1.85kb</td>
<td>2.13 kb</td></tr>
<tr><td>Todo MVC size</td>
<td>1.10kb</td>
<td>1.88kb</td>
<td>0.96 kb</td></tr>
<tr><td>Framework + 1 Todo</td>
<td>17.99kb</td>
<td>3.73kb</td>
<td>3.09 kb</td></tr>
<tr><td>Framework + 10 Todos</td>
<td>27.89kb</td>
<td>20.65kb</td>
<td>11.73 kb</td></tr></tbody></table>
<h4 id="nue-has-the-smallest-footprint"><a href="#nue-has-the-smallest-footprint" title="Nue has the smallest footprint"></a>Nue has the smallest footprint</h4>
<picture><source srcset="/img/file-sizes.png" media="(max-width: 750px)" type="image/png">
<source srcset="/img/file-sizes-big.png" media="(min-width: 750px)" type="image/png">
<img src="/img/file-sizes-big.png" loading="lazy" width="550"></picture>
<h2 id="predicting-the-future"><a href="#predicting-the-future" title="Predicting the future"></a>Predicting the future</h2><p>I see that frontend development is trending into the following directions:</p>
<p><em>Multi-page applications (MPA)</em> are on the rise. With the emergence of server components and tools like Astro and Nue, people will eventually realize that the SPA (single page application) model is not ideal for &quot;normal&quot;, content-heavy websites.</p>
<p><em>UX development</em> becomes a thing again. Not everything should be controlled by JavaScript and by JS engineers. User experience optimization requires a different set of goals, skills, and interests. And the MPA trend increases this need because JS developers are less needed in developing content-heavy websites.</p>
<p><em>More standards-based coding</em>. As developers move to multi-page applications JavaScript is rendered on the server side, and client-side javascript becomes optional. This forces the pre-SPA best practices to come back: separation of concerns, progressive enhancement, and semantic web design.</p>
<p>Nue is designed from the ground up to be on par with the above trends.</p>

<div>

  <h2>What is Nue?</h2>

  <p>
    <a href="/">Nue</a> is an ambitious project to build a significantly easier, yet more powerful alternative to <strong>Vercel</strong>, <strong>Gatsby</strong>, and <strong>Netlify</strong>. It is released as follows:
  </p>

  

  <img src="/img/roadmap-summer-big.png">

  <p>
    Join our mailing list and get notified when we reach the next milestone. And please give us your thoughts! We read them all with care.
  </p>

  <div is="join-list"></div>

</div>
      
    </article>

    
  </main>
    <footer>
    <nav aria-label="branding"><a href="/"><img src="/img/logo.svg" width="90" height="40"></a></nav>
    <section><nav><h3>Basics</h3>
<a href="/getting started/">Getting started</a>
<a href="/documentation/">Documentation</a>
<a href="/roadmap/">Roadmap</a>
<a href="/blog/">Blog</a>
<a href="/faq/">FAQ</a></nav>
<nav><h3>Core Concepts</h3>
<a href="/content first framework/">Content First Framework</a>
<a href="/global design system/">Global Design System</a>
<a href="/content management/">Content Management</a>
<a href="/reactive content/">Reactive content</a>
<a href="/single-page apps/">Single-Page Apps</a></nav></section>
    
  </footer>
    <div id="portal">
    <dialog id="menu">
      <a href="#" class="close">&#xd7;</a>
      <nav aria-label="main"><a href="/why/">Why</a>
<a href="/docs/">Docs</a>
<a href="/blog/">Blog</a>
<a href="/blog/status-update-01/" class="status badge">Nue status update</a></nav>
      <nav aria-label="toolbar"><a href="/docs/">Try beta</a>
<hr>
<a href="//github.com/nuejs/nue" class="github badge"><em>5.9k</em></a></nav>
    </dialog>
  </div>
  </body>

</html>
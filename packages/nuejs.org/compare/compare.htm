

<dialog @name="compare" id="compare" class="showroom" popover>
  <header class="flex">
    <h2>{ step.title }</h2>
    <nav class="flex">
      <a @click="prev"><img src="/icon/chevron-left.svg"></a>
      <a @click="next"><img src="/icon/chevron-right.svg"></a>
      <a @click="root.hidePopover()"><img src="/icon/close.svg"></a>
    </nav>
  </header>

  <div class="stack { seeking: seeking }">
    <div>
      <h3 class="flex">
        <b>Next.js:</b>
        <span>A JavaScript monolith</span>
        <a href="/" target="_new" class="github pill">GitHub</a>
      </h3>
      <figure>
        <img src="/tour/img/content-react.png">
      </figure>
    </div>

    <div>
      <h3 class="flex">
        <b class="blue">Nue:</b>
        <span>{ step.desc }</span>
        <a href="/" target="_new" class="github pill">GitHub</a>
      </h3>
      <figure>
        <img src="/tour/img/content-nue.png">
      </figure>
    </div>
  </div>

  <script>
    index = 0

    constructor({ compare }) {
      this.steps = compare.steps
      this.seek(0)
    }

    seek(i) {
      this.step = this.steps[i]
      this.index = i
      this.seeking = true
      setTimeout(() => { this.update({ seeking: false }) }, 200)
    }

    prev() {
      let i = --this.index
      if (i < 0) i = this.steps.length -1
      this.seek(i)
    }

    next() {
      let i = ++this.index
      if (i == this.steps.length) i = 0
      this.seek(i)
    }

  </script>
</dialog>